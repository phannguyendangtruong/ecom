# Active profile
spring.profiles.active=${SPRING_PROFILES_ACTIVE:dev}

# Database
spring.datasource.driver-class-name=org.postgresql.Driver
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.datasource.hikari.maximum-pool-size=${SPRING_DATASOURCE_HIKARI_MAX_POOL_SIZE:10}
spring.datasource.hikari.minimum-idle=${SPRING_DATASOURCE_HIKARI_MIN_IDLE:5}
spring.datasource.hikari.connection-timeout=${SPRING_DATASOURCE_HIKARI_CONNECTION_TIMEOUT:20000}

# Redis
spring.data.redis.timeout=2000ms
spring.data.redis.lettuce.pool.max-active=8
spring.data.redis.lettuce.pool.max-idle=8
spring.data.redis.lettuce.pool.min-idle=0

# JWT
app.jwt.expiration-ms=${APP_JWT_EXPIRATION_MS:3600000}
app.jwt.refresh-expiration-ms=${APP_JWT_REFRESH_EXPIRATION_MS:86400000}
app.jwt.previous-secrets=${APP_JWT_PREVIOUS_SECRETS:}

# Auth protections
app.security.login.max-failed-attempts=${APP_SECURITY_LOGIN_MAX_FAILED_ATTEMPTS:5}
app.security.login.fail-window-minutes=${APP_SECURITY_LOGIN_FAIL_WINDOW_MINUTES:15}
app.security.login.lock-minutes=${APP_SECURITY_LOGIN_LOCK_MINUTES:15}
app.security.refresh.max-attempts-per-window=${APP_SECURITY_REFRESH_MAX_ATTEMPTS_PER_WINDOW:30}
app.security.refresh.window-minutes=${APP_SECURITY_REFRESH_WINDOW_MINUTES:15}
app.security.cors.allowed-origins=${APP_SECURITY_CORS_ALLOWED_ORIGINS:http://localhost:3000}
app.security.cors.allowed-headers=${APP_SECURITY_CORS_ALLOWED_HEADERS:Authorization,Content-Type,X-Trace-Id}
app.security.require-https=${APP_SECURITY_REQUIRE_HTTPS:false}

# Google login
google.oauth.client-id=${GOOGLE_CLIENT_ID:}
google.oauth.client-secret=${GOOGLE_CLIENT_SECRET:}
google.oauth.redirect-uri=${GOOGLE_REDIRECT_URI:http://localhost:8080/auth/google/callback}

# Actuator hardening
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=when_authorized
management.health.db.enabled=true
management.health.redis.enabled=true
